
@model List<DensoSystem.Models.BloodPressureViewModel>
@{
    ViewBag.Title = "BloodPressure";
}
<div id="chart-container" style="width: 100%; height: 100%;">chart-container</div>
<script>
    $(function () {
        var model = @Html.Raw(Json.Encode(Model.Select(x => new  {
                   Date = x.Date.AddHours(7.0),
                   Systolic = x.Systolic,
                   Diastolic = x.Diastolic
               })));

        var dataSystolics = [];
        var dataDiastolics = [];
        for(var x in model){
            var utc = model[x].Date.substring(6, 19);
            dataSystolics.push([parseInt(utc), model[x].Systolic]);
            dataDiastolics.push([parseInt(utc), model[x].Diastolic]);
        }

        $('#chart-container').highcharts({
            chart: {
                zoomType: 'x'
            },
            title: {
                text: 'Blood Pressure over time'
            },

            xAxis: {
                type: 'datetime'
            },
            yAxis: {
                title: {
                    text: 'Blood Pressure'
                }
            },
            legend: {
                enabled: false
            },
            //plotOptions: {
            //    area: {
            //        fillColor: {
            //            linearGradient: {
            //                x1: 0,
            //                y1: 0,
            //                x2: 0,
            //                y2: 1
            //            },
            //            stops: [
            //                [0, Highcharts.getOptions().colors[0]],
            //                [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
            //            ]
            //        },
            //        marker: {
            //            radius: 2
            //        },
            //        lineWidth: 1,
            //        states: {
            //            hover: {
            //                lineWidth: 1
            //            }
            //        },
            //        threshold: null
            //    }
            //},

            series: [{
                type: 'line',
                name: 'Systolic',
                data: dataSystolics,
                color: "#6666FF"
            },{
                type: 'line',
                name: 'Diastolic',
                data: dataDiastolics,
                color: '#FF9900'
            }]
        });
    });

</script>

